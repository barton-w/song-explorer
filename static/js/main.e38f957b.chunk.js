(window["webpackJsonpsong-features-app"]=window["webpackJsonpsong-features-app"]||[]).push([[0],[,,,,function(e,t,a){e.exports=a(12)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(3),c=a.n(r),o=(a(9),a(1)),s="http://localhost:3000";function i(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)({}),N=Object(o.a)(i,2),w=N[0],F=N[1];return Object(n.useEffect)(function(){fetch(s+"/tracks/features?id="+e.id).then(function(e){return e.json()}).then(function(e){F(e),c(!1)}).catch(function(e){return console.log(e)})},[e.id]),l.a.createElement("div",{className:"song-features"},l.a.createElement("h5",null,"SONG FEATURES"),r?l.a.createElement("h2",null,"LOADING"):l.a.createElement("div",{className:"song-features-detail"},l.a.createElement("table",{className:"striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Song Attributes"),l.a.createElement("th",null))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Key Signature"),l.a.createElement("td",null,y(w.features.key,w.features.mode))),l.a.createElement("tr",null,l.a.createElement("td",null,"Time Signature"),l.a.createElement("td",null,g(w.features.time_signature))),l.a.createElement("tr",null,l.a.createElement("td",null,"Tempo"),l.a.createElement("td",null,h(w.features.tempo))),l.a.createElement("tr",null,l.a.createElement("td",null,"Length"),l.a.createElement("td",null,m(w.features.duration_ms))))),l.a.createElement("table",{className:"striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Musical Features"),l.a.createElement("th",null))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Positivity"),l.a.createElement("td",null,k(w.features.valence))),l.a.createElement("tr",null,l.a.createElement("td",null,"Energy"),l.a.createElement("td",null,f(w.features.energy))),l.a.createElement("tr",null,l.a.createElement("td",null,"Danceability"),l.a.createElement("td",null,d(w.features.danceability))),l.a.createElement("tr",null,l.a.createElement("td",null,"Acousticness"),l.a.createElement("td",null,u(w.features.acousticness))),l.a.createElement("tr",null,l.a.createElement("td",null,"Instrumentalness"),l.a.createElement("td",null,E(w.features.instrumentalness))),l.a.createElement("tr",null,l.a.createElement("td",null,"Liveness"),l.a.createElement("td",null,b(w.features.liveness))),l.a.createElement("tr",null,l.a.createElement("td",null,"Spoken-word"),l.a.createElement("td",null,p(w.features.speechiness))),l.a.createElement("tr",null,l.a.createElement("td",null,"Loudness"),l.a.createElement("td",null,v(w.features.loudness)))))))}var u=function(e){if("undefined"===typeof e||null===e)return"No acousticness score available :(";var t=parseFloat((100*e).toFixed(1));return"".concat(t,"% confidence the song is acoustic")},d=function(e){if("undefined"===typeof e||null===e)return"No danceability score avaiable :(";var t=parseFloat((100*e).toFixed(1));return t<25?"Not danceable: ".concat(t,"% on the danceability scale"):t>=25&&t<50?"Slightly dancy: ".concat(t,"% on the danceability scale"):t>=50&&t<75?"Moderately dancy: ".concat(t,"% on the danceability scale"):t>=75?"Dancy af! ".concat(t,"% on the danceability scale"):"No danceability score avaiable :("},m=function(e){if("undefined"===typeof e||null===e)return"No duration avaiable :(";var t=e/1e3,a=Math.floor(t/60),n=Math.round(t-60*a);return"".concat(a," minutes, ").concat(n," seconds")},f=function(e){if("undefined"===typeof e||null===e)return"No energy score available :(";var t=parseFloat((100*e).toFixed(1));return t<25?"Chill af: ".concat(t,"% on the energy scale"):t>=25&&t<50?"Fairly mellow: ".concat(t,"% on the energy scale"):t>=50&&t<75?"Pretty energetic: ".concat(t,"% on the energy scale"):t>=75?"In yo face! ".concat(t,"% on the energy scale"):"No energy score avaiable :("},E=function(e){if("undefined"===typeof e||null===e)return"No instrumentalness score available :(";var t=parseFloat((100*e).toFixed(1));return"".concat(t,"% confidence the song is instrumental (no vocals)")},y=function(e,t){var a="",n="";if(a="undefined"===typeof t||null===t?"":1===t?"Major":"minor","undefined"===typeof e||null===e)n="";else switch(e){case 0:n="C";break;case 1:n="C# (or D\u266d)";break;case 2:n="D";break;case 3:n="D# (or E\u266d)";break;case 4:n="E";break;case 5:n="F";break;case 6:n="F# (or G\u266d)";break;case 7:n="G";break;case 8:n="G# (or A\u266d)";break;case 9:n="A";break;case 10:n="A# (or B\u266d)";break;case 11:n="B";break;default:n=""}return""===a&&""===n?"No key data available :(":"".concat(n," ").concat(a)},b=function(e){if("undefined"===typeof e||null===e)return"No liveness score available :(";var t=parseFloat((100*e).toFixed(1));return"".concat(t,"% confidence the song is performed live")},v=function(e){if("undefined"===typeof e||null===e)return"No loudness data available :(";var t=parseFloat(e.toFixed(1));return t<-30?"A hushed whisper, averaging ".concat(t,"db"):t>=-30&&t<-20?"Fairly quiet, averaging ".concat(t,"db"):t>=-20&&t<-10?"Moderately loud, averaging ".concat(t,"db"):t>=-10?"Hot track! averaging ".concat(t,"db"):"No loudness score avaiable :("},p=function(e){if("undefined"===typeof e||null===e)return"No spoken-word score available :(";var t=parseFloat((100*e).toFixed(1));return t<33.3?"".concat(t,"% spoken-word score - likely little to no spoken words"):t>=33.3&&t<66.6?"".concat(t,"% spoken-word score - a mix of music and spoken words"):t>=66.6?"".concat(t,"% spoken-word score - mostly spoken words"):"No spoken-word score avaiable :("},h=function(e){if("undefined"===typeof e||null===e)return"No tempo available :(";var t=parseFloat(e.toFixed(1));return"".concat(t," bpm")},g=function(e){return"undefined"===typeof e||null===e?"No time signature available :(":"".concat(e)},k=function(e){if("undefined"===typeof e||null===e)return"No positivity score avaiable :(";var t=parseFloat((100*e).toFixed(1));return t<25?"Dark: ".concat(t,"% on the positivity scale"):t>=25&&t<50?"Moody: ".concat(t,"% on the positivity scale"):t>=50&&t<75?"Pretty upbeat: ".concat(t,"% on the positivity scale"):t>=75?"Happy! ".concat(t,"% on the positivity scale"):"No positivity score avaiable :("};function N(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)(function(){c(!1)},[e.track]),l.a.createElement("div",{className:"song"},l.a.createElement("h3",null,e.track.name),l.a.createElement("h4",null,w(e.track.artist)),l.a.createElement("a",{href:e.track.urls.spotify},"Listen on Spotify"),l.a.createElement("img",{src:e.track.image.url,alt:e.track.name}),"undefined"!==typeof e.track.lyrics_url?l.a.createElement("a",{href:e.track.lyrics_url},"See the Lyrics"):null,l.a.createElement("button",{onClick:function(){c(!r)}},"Song Features"),r?l.a.createElement(i,{id:e.track.id}):null)}var w=function(e){for(var t="",a=0;a<e.length;a++)a===e.length-1?t+=e[a].name:t+=e[a].name+" & ";return t};function F(e){return l.a.createElement("div",{className:"song-results"},l.a.createElement("h1",null,"RESULTS"),e.songResults.tracks.map(function(e,t){return l.a.createElement(N,{key:t,track:e})}))}function S(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({}),i=Object(o.a)(c,2),u=i[0],d=i[1],m=Object(n.useState)("song"),f=Object(o.a)(m,2),E=f[0],y=f[1],b=Object(n.useState)("/tracks/search?track="),v=Object(o.a)(b,2),p=v[0],h=v[1];return l.a.createElement("div",{className:"search"},l.a.createElement("button",{id:"song"===E?"active":"inactive",className:"waves-effect waves-light btn-large song-search-button",onClick:function(){y("song"),h("/tracks/search?track=")}},"Song"),l.a.createElement("button",{id:"lyrics"===E?"active":"inactive",className:"waves-effect waves-light btn-large lyrics-search-button",onClick:function(){y("lyrics"),h("/tracks/lyrics?lyrics=")}},"Lyrics"),l.a.createElement("form",{id:"search-form",className:"col s12",onSubmit:function(e){e.preventDefault(),fetch(s+p+a).then(function(e){return e.json()}).then(function(e){return d(e)}).catch(function(e){return console.log(e)})}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s8 offset-s2"},l.a.createElement("input",{id:"song",type:"text",value:a,onChange:function(e){r(e.target.value)},placeholder:"song"===E?"Song Title":"Lyrics from a song"}))),l.a.createElement("input",{id:"search-button",className:"waves-effect waves-light btn-large",type:"submit",value:"Search"})),"undefined"!==typeof u.tracks&&u.tracks.length>0?l.a.createElement(F,{songResults:u}):l.a.createElement("div",{className:"response-message"},"undefined"!==typeof u.message?l.a.createElement("p",null,u.message):null))}a(10),a(11);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(function(){return Object(n.useEffect)(function(){fetch(s+"/wakes").then(function(e){return e.json()}).then(function(e){return console.log(e.response)}).catch(function(e){return console.log(e)})},[]),l.a.createElement("div",{className:"container main"},l.a.createElement("div",{className:"powered"},l.a.createElement("p",{id:"powered-by"},"Powered by"),l.a.createElement("div",{id:"spotify-logo"}),l.a.createElement("div",{id:"genius-logo"})),l.a.createElement("h1",null,"Song Explorer"),l.a.createElement("h6",null,"Search by song or lyrics and discover song-data like key, tempo, danceability, energy, and more"),l.a.createElement(S,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[4,1,2]]]);
//# sourceMappingURL=main.e38f957b.chunk.js.map